<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oriental Tex Int | Global Textile Leaders</title>
    <meta name="description" content="Oriental Tex Int is a multinational textile company specializing in sustainable fabric production, high-tech manufacturing, and global exports.">
    <meta name="keywords" content="Textile, Fabric, Manufacturer, Sustainable Fashion, Oriental Tex Int, Garments">
    <meta name="author" content="Oriental Tex Int">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Playfair+Display:ital,wght@0,600;1,600&display=swap" rel="stylesheet">
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Tailwind Configuration -->
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        brand: {
                            dark: '#171717',
                            darkGrey: '#33302C',
                            lightOrange: '#FFA552',
                            orange: '#FF8800',
                            darkOrange: '#B34E00',
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        serif: ['Playfair Display', 'serif'],
                    },
                    animation: {
                        'fade-in-up': 'fadeInUp 0.8s ease-out forwards',
                        'fade-in': 'fadeIn 1s ease-out forwards',
                    },
                    keyframes: {
                        fadeInUp: {
                            '0%': { opacity: '0', transform: 'translateY(20px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        },
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #171717;
        }
        ::-webkit-scrollbar-thumb {
            background: #FF8800;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #B34E00;
        }

        /* Utility for hiding sections */
        .hidden-section {
            display: none;
        }
        
        /* Active Nav Link */
        .nav-link.active {
            color: #FF8800;
            font-weight: 600;
        }
        
        /* Loader */
        #loader {
            transition: opacity 0.5s ease;
        }
        
        /* Image Hover Zoom */
        .img-zoom-container {
            overflow: hidden;
        }
        .img-zoom-container img {
            transition: transform 0.5s ease;
        }
        .img-zoom-container:hover img {
            transform: scale(1.1);
        }

        /* Modal Transitions */
        #product-modal {
            transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
        }
        #product-modal.hidden-modal {
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
        }
        #product-modal:not(.hidden-modal) {
            opacity: 1;
            visibility: visible;
            pointer-events: auto;
        }
    </style>
</head>
<body class="bg-white dark:bg-brand-dark text-brand-darkGrey dark:text-gray-200 transition-colors duration-300 font-sans antialiased overflow-x-hidden">

    <!-- Loading Screen -->
    <div id="loader" class="fixed inset-0 z-50 flex items-center justify-center bg-brand-dark">
        <div class="text-center">
            <h1 class="text-4xl font-serif text-brand-orange font-bold tracking-widest animate-pulse">ORIENTAL TEX</h1>
            <p class="text-brand-lightOrange mt-2 text-sm tracking-widest uppercase">International</p>
        </div>
    </div>

    <!-- Product Details Modal -->
    <div id="product-modal" class="fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm hidden-modal">
        <div class="bg-white dark:bg-brand-darkGrey rounded shadow-2xl w-full max-w-4xl overflow-hidden flex flex-col md:flex-row relative animate-fade-in-up">
            <button onclick="closeProductModal()" class="absolute top-4 right-4 z-10 bg-white dark:bg-black rounded-full p-2 text-brand-orange hover:text-brand-darkOrange transition-colors">
                <i data-lucide="x" class="w-6 h-6"></i>
            </button>
            
            <div class="w-full md:w-1/2 h-64 md:h-auto relative">
                <img id="modal-img" src="" alt="Product Detail" class="w-full h-full object-cover">
            </div>
            
            <div class="w-full md:w-1/2 p-8 flex flex-col justify-center">
                <span id="modal-category" class="text-brand-orange text-sm font-bold uppercase tracking-wider mb-2">Collection</span>
                <h3 id="modal-title" class="text-3xl font-serif font-bold text-brand-dark dark:text-white mb-4">Product Name</h3>
                <p id="modal-code" class="text-gray-500 text-sm mb-6 font-mono">Code: 0000</p>
                
                <p class="text-gray-600 dark:text-gray-300 mb-6 leading-relaxed">
                    This premium fabric represents the pinnacle of Oriental Tex Int's manufacturing capabilities. Crafted with precision and sustainability in mind, it is suitable for high-end fashion applications.
                </p>
                
                <div class="grid grid-cols-2 gap-4 mb-8">
                    <div class="border border-gray-200 dark:border-gray-600 p-3 rounded">
                        <span class="block text-xs text-gray-500">Composition</span>
                        <span class="font-semibold dark:text-white">100% Premium Grade</span>
                    </div>
                    <div class="border border-gray-200 dark:border-gray-600 p-3 rounded">
                        <span class="block text-xs text-gray-500">Weight</span>
                        <span class="font-semibold dark:text-white">220 GSM</span>
                    </div>
                    <div class="border border-gray-200 dark:border-gray-600 p-3 rounded">
                        <span class="block text-xs text-gray-500">Width</span>
                        <span class="font-semibold dark:text-white">58/60"</span>
                    </div>
                    <div class="border border-gray-200 dark:border-gray-600 p-3 rounded">
                        <span class="block text-xs text-gray-500">MOQ</span>
                        <span class="font-semibold dark:text-white">1000 Yards</span>
                    </div>
                </div>

                <button onclick="closeProductModal(); router.navigate('contact')" class="w-full bg-brand-orange text-white font-bold py-3 rounded hover:bg-brand-darkOrange transition-colors text-center">
                    Request Sample / Quote
                </button>
            </div>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="fixed w-full z-40 top-0 transition-all duration-300 border-b border-transparent" id="navbar">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-20">
                <!-- Logo -->
                <div class="flex-shrink-0 flex items-center cursor-pointer" onclick="router.navigate('home')">
                    <span class="font-serif text-2xl font-bold text-brand-dark dark:text-white">
                        Oriental<span class="text-brand-orange">Tex</span>
                    </span>
                </div>

                <!-- Desktop Menu -->
                <div class="hidden md:flex items-center space-x-8">
                    <a href="#" onclick="router.navigate('home'); return false;" class="nav-link text-sm uppercase tracking-wider hover:text-brand-orange transition-colors">Home</a>
                    <a href="#" onclick="router.navigate('about'); return false;" class="nav-link text-sm uppercase tracking-wider hover:text-brand-orange transition-colors">About Us</a>
                    <a href="#" onclick="router.navigate('factory'); return false;" class="nav-link text-sm uppercase tracking-wider hover:text-brand-orange transition-colors">Factory</a>
                    <a href="#" onclick="router.navigate('collections'); return false;" class="nav-link text-sm uppercase tracking-wider hover:text-brand-orange transition-colors">Collections</a>
                    <a href="#" onclick="router.navigate('clients'); return false;" class="nav-link text-sm uppercase tracking-wider hover:text-brand-orange transition-colors">Clients</a>
                    <a href="#" onclick="router.navigate('contact'); return false;" class="nav-link text-sm uppercase tracking-wider hover:text-brand-orange transition-colors">Contact</a>
                    
                    <!-- Theme Toggle -->
                    <button id="theme-toggle" class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-brand-darkGrey transition-colors text-brand-orange">
                        <i data-lucide="moon" class="w-5 h-5 hidden dark:block"></i>
                        <i data-lucide="sun" class="w-5 h-5 block dark:hidden"></i>
                    </button>
                </div>

                <!-- Mobile menu button -->
                <div class="md:hidden flex items-center">
                    <button id="mobile-menu-btn" class="text-brand-dark dark:text-white hover:text-brand-orange focus:outline-none">
                        <i data-lucide="menu" class="w-6 h-6"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile Menu Panel -->
        <div id="mobile-menu" class="hidden md:hidden bg-white dark:bg-brand-darkGrey border-t border-gray-200 dark:border-gray-700 absolute w-full shadow-xl">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3 flex flex-col items-center">
                <a href="#" onclick="router.navigate('home'); closeMobileMenu(); return false;" class="block px-3 py-2 text-base font-medium hover:text-brand-orange w-full text-center">Home</a>
                <a href="#" onclick="router.navigate('about'); closeMobileMenu(); return false;" class="block px-3 py-2 text-base font-medium hover:text-brand-orange w-full text-center">About Us</a>
                <a href="#" onclick="router.navigate('factory'); closeMobileMenu(); return false;" class="block px-3 py-2 text-base font-medium hover:text-brand-orange w-full text-center">Factory</a>
                <a href="#" onclick="router.navigate('collections'); closeMobileMenu(); return false;" class="block px-3 py-2 text-base font-medium hover:text-brand-orange w-full text-center">Collections</a>
                <a href="#" onclick="router.navigate('clients'); closeMobileMenu(); return false;" class="block px-3 py-2 text-base font-medium hover:text-brand-orange w-full text-center">Clients</a>
                <a href="#" onclick="router.navigate('contact'); closeMobileMenu(); return false;" class="block px-3 py-2 text-base font-medium hover:text-brand-orange w-full text-center">Contact</a>
                <button id="mobile-theme-toggle" class="mt-4 mb-2 p-2 rounded-full bg-gray-100 dark:bg-black text-brand-orange w-40">
                    Toggle Theme
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content Area -->
    <main id="app-content" class="pt-20 min-h-screen flex flex-col">
        <!-- Content injected via JS -->
    </main>

    <!-- Footer -->
    <footer class="bg-brand-darkGrey text-white pt-16 pb-8">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8 mb-8">
                <!-- Brand Info -->
                <div class="col-span-1 md:col-span-1">
                    <h3 class="font-serif text-2xl font-bold text-white mb-4">Oriental<span class="text-brand-orange">Tex</span></h3>
                    <p class="text-gray-400 text-sm leading-relaxed mb-4">
                        Pioneering the future of sustainable textiles. We weave quality into every thread, serving global brands with integrity and innovation.
                    </p>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-400 hover:text-brand-orange transition-colors"><i data-lucide="facebook" class="w-5 h-5"></i></a>
                        <a href="#" class="text-gray-400 hover:text-brand-orange transition-colors"><i data-lucide="twitter" class="w-5 h-5"></i></a>
                        <a href="#" class="text-gray-400 hover:text-brand-orange transition-colors"><i data-lucide="linkedin" class="w-5 h-5"></i></a>
                        <a href="#" class="text-gray-400 hover:text-brand-orange transition-colors"><i data-lucide="instagram" class="w-5 h-5"></i></a>
                    </div>
                </div>

                <!-- Quick Links -->
                <div>
                    <h4 class="text-lg font-semibold mb-4 text-brand-lightOrange">Quick Links</h4>
                    <ul class="space-y-2 text-sm text-gray-400">
                        <li><a href="#" onclick="router.navigate('about'); return false;" class="hover:text-white transition-colors cursor-pointer">About Company</a></li>
                        <li><a href="#" onclick="router.navigate('factory'); return false;" class="hover:text-white transition-colors cursor-pointer">Our Factory</a></li>
                        <li><a href="#" onclick="router.navigate('collections'); return false;" class="hover:text-white transition-colors cursor-pointer">New Collections</a></li>
                        <li><a href="#" onclick="router.navigate('contact'); return false;" class="hover:text-white transition-colors cursor-pointer">Get Quote</a></li>
                    </ul>
                </div>

                <!-- Services -->
                <div>
                    <h4 class="text-lg font-semibold mb-4 text-brand-lightOrange">Our Sectors</h4>
                    <ul class="space-y-2 text-sm text-gray-400">
                        <li>Knitted Garments</li>
                        <li>Woven Fabrics</li>
                        <li>Sustainable Denim</li>
                        <li>Home Textiles</li>
                        <li>Technical Textiles</li>
                    </ul>
                </div>

                <!-- Contact Footer -->
                <div>
                    <h4 class="text-lg font-semibold mb-4 text-brand-lightOrange">Contact</h4>
                    <ul class="space-y-2 text-sm text-gray-400">
                        <li class="flex items-start"><i data-lucide="map-pin" class="w-4 h-4 mr-2 mt-1 text-brand-orange"></i> 123 Textile Ave, Industrial Zone, Dhaka</li>
                        <li class="flex items-center"><i data-lucide="phone" class="w-4 h-4 mr-2 text-brand-orange"></i> +880 1234 567890</li>
                        <li class="flex items-center"><i data-lucide="mail" class="w-4 h-4 mr-2 text-brand-orange"></i> info@orientaltex.com</li>
                    </ul>
                </div>
            </div>
            
            <div class="border-t border-gray-700 pt-8 flex flex-col md:flex-row justify-between items-center">
                <p class="text-xs text-gray-500">&copy; 2024 Oriental Tex Int. All rights reserved.</p>
                <div class="flex space-x-4 mt-4 md:mt-0 text-xs text-gray-500">
                    <a href="#" class="hover:text-white cursor-pointer">Privacy Policy</a>
                    <a href="#" class="hover:text-white cursor-pointer">Terms of Service</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- JavaScript Logic -->
    <script>
        const productsData = [];
        const categories = [
            { id: 'sweater', label: 'Sweater', baseImg: 'Sweaters/sweater07' },
            { id: 'knitwear', label: 'Knitwear', baseImg: 'Knitwears/knit06.jpg' },
            { id: 'woven', label: 'Woven', baseImg: 'Wovens/woven06.jpg' }
        ];

        // Unique images to cycle through to make it look diverse
        const sweaterImages = [
            'Sweaters/sweater01.jpg', // Sweater 1
            'Sweaters/sweater02.jpg', // Sweater 2
            'Sweaters/sweater03.jpg', // Sweater 3
            'Sweaters/sweater04.jpg'  // Sweater 4
        ];
        const knitImages = [
            'Knitwears/knit01.jpg', // Knit 1
            'Knitwears/knit02.jpg', // Knit 2
            'Knitwears/knit03.jpg', // Knit 3
            'Knitwears/knit04.jpg'  // Knit 4
        ];
        const wovenImages = [
            'Wovens/woven01.jpg', // Woven 1
            'Wovens/woven02.jpg', // Woven 2
            'Wovens/woven03.jpg', // Woven 3
            'Wovens/woven04.jpg'  // Woven 4
        ];

        let globalId = 1;

        categories.forEach(cat => {
            const imgSet = cat.id === 'sweater' ? sweaterImages : (cat.id === 'knitwear' ? knitImages : wovenImages);
            
            for(let i = 1; i <= 12; i++) {
                // Pick an image from the set based on index
                const imgUrl = imgSet[(i - 1) % imgSet.length] + '?q=80&w=600&auto=format&fit=crop';
                
                productsData.push({
                    id: globalId++,
                    category: cat.id,
                    title: `${cat.label} Collection #${i}`,
                    code: `OT-${cat.id.substring(0,2).toUpperCase()}-${1000 + i}`,
                    image: imgUrl,
                    isNew: i <= 2 // First 2 of each category are "New"
                });
            }
        });

        // --- State Management & Routing ---
        const contentDiv = document.getElementById('app-content');
        const loader = document.getElementById('loader');

        // Page Templates
        const templates = {
            home: `
                <!-- Hero Section -->
                <section class="relative h-[90vh] flex items-center justify-center overflow-hidden">
                    <div class="absolute inset-0 bg-brand-dark/60 z-10"></div>
                    <div class="absolute inset-0 bg-[url('https://images.unsplash.com/photo-1556905055-8f358a7a47b2?q=80&w=2070&auto=format&fit=crop')] bg-cover bg-center bg-fixed transform scale-105 animate-[pulse_10s_ease-in-out_infinite]"></div>
                    
                    <div class="relative z-20 text-center px-4 max-w-5xl mx-auto">
                        <h2 class="text-brand-orange font-bold tracking-widest uppercase text-sm md:text-base mb-4 animate-fade-in-up">Welcome to Oriental Tex Int</h2>
                        <h1 class="text-4xl md:text-7xl font-serif font-bold text-white mb-6 leading-tight animate-fade-in-up" style="animation-delay: 0.2s;">
                            Weaving the Fabric <br/> of <span class="text-transparent bg-clip-text bg-gradient-to-r from-brand-lightOrange to-brand-orange">Tomorrow</span>
                        </h1>
                        <p class="text-gray-300 text-lg md:text-xl max-w-2xl mx-auto mb-10 animate-fade-in-up" style="animation-delay: 0.4s;">
                            A multinational leader in sustainable textile manufacturing, delivering premium quality fabrics to global brands since 1995.
                        </p>
                        <div class="flex flex-col sm:flex-row justify-center gap-4 animate-fade-in-up" style="animation-delay: 0.6s;">
                            <button onclick="router.navigate('collections')" class="px-8 py-4 bg-brand-orange text-white font-bold rounded-sm hover:bg-brand-darkOrange transition-all transform hover:-translate-y-1 shadow-lg shadow-brand-orange/30">
                                View Collections
                            </button>
                            <button onclick="router.navigate('contact')" class="px-8 py-4 border border-white text-white font-bold rounded-sm hover:bg-white hover:text-brand-dark transition-all transform hover:-translate-y-1">
                                Contact Us
                            </button>
                        </div>
                    </div>
                    
                    <!-- Scroll Down Indicator -->
                    <div class="absolute bottom-10 left-1/2 transform -translate-x-1/2 z-20 animate-bounce text-white cursor-pointer" onclick="window.scrollTo({top: window.innerHeight, behavior: 'smooth'})">
                        <i data-lucide="arrow-down" class="w-8 h-8 opacity-70"></i>
                    </div>
                </section>

                <!-- Introduction / About Teaser -->
                <section class="py-24 px-4 bg-white dark:bg-brand-dark">
                    <div class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-16 items-center">
                        <div class="relative">
                            <div class="absolute -top-4 -left-4 w-24 h-24 border-t-4 border-l-4 border-brand-orange z-0"></div>
                            <div class="img-zoom-container rounded-sm overflow-hidden shadow-2xl relative z-10">
                                <img src="Factory.jpg" alt="Textile Factory" class="w-full h-auto object-cover">
                            </div>
                            <div class="absolute -bottom-4 -right-4 w-24 h-24 border-b-4 border-r-4 border-brand-orange z-0"></div>
                        </div>
                        <div class="observe-fade">
                            <h3 class="text-brand-orange font-bold uppercase tracking-wider mb-2">Who We Are</h3>
                            <h2 class="text-3xl md:text-4xl font-serif font-bold text-brand-dark dark:text-white mb-6">Redefining Textile Excellence</h2>
                            <p class="text-gray-600 dark:text-gray-300 mb-6 leading-relaxed">
                                Oriental Tex Int stands at the forefront of the global textile industry. We combine traditional craftsmanship with state-of-the-art technology to produce fabrics that are not only beautiful but durable and sustainable.
                            </p>
                            <ul class="space-y-4 mb-8">
                                <li class="flex items-center text-gray-700 dark:text-gray-200">
                                    <i data-lucide="check-circle" class="w-5 h-5 text-brand-orange mr-3"></i> Sustainable Production Practices
                                </li>
                                <li class="flex items-center text-gray-700 dark:text-gray-200">
                                    <i data-lucide="check-circle" class="w-5 h-5 text-brand-orange mr-3"></i> Global Supply Chain Network
                                </li>
                                <li class="flex items-center text-gray-700 dark:text-gray-200">
                                    <i data-lucide="check-circle" class="w-5 h-5 text-brand-orange mr-3"></i> ISO 9001 Certified Quality
                                </li>
                            </ul>
                            <button onclick="router.navigate('about')" class="text-brand-orange font-bold hover:text-brand-darkOrange transition-colors flex items-center group">
                                Read More About Us <i data-lucide="arrow-right" class="ml-2 transform group-hover:translate-x-1 transition-transform"></i>
                            </button>
                        </div>
                    </div>
                </section>

                <!-- Stats Section -->
                <section class="py-16 bg-brand-darkGrey text-white">
                    <div class="max-w-7xl mx-auto px-4 grid grid-cols-2 md:grid-cols-4 gap-8 text-center">
                        <div class="observe-fade">
                            <div class="text-4xl md:text-5xl font-bold text-brand-orange mb-2">25+</div>
                            <div class="text-sm text-gray-300 uppercase tracking-wider">Years Experience</div>
                        </div>
                        <div class="observe-fade">
                            <div class="text-4xl md:text-5xl font-bold text-brand-orange mb-2">50+</div>
                            <div class="text-sm text-gray-300 uppercase tracking-wider">Countries Exported</div>
                        </div>
                        <div class="observe-fade">
                            <div class="text-4xl md:text-5xl font-bold text-brand-orange mb-2">1200+</div>
                            <div class="text-sm text-gray-300 uppercase tracking-wider">Skilled Workers</div>
                        </div>
                        <div class="observe-fade">
                            <div class="text-4xl md:text-5xl font-bold text-brand-orange mb-2">10M</div>
                            <div class="text-sm text-gray-300 uppercase tracking-wider">Yards Monthly</div>
                        </div>
                    </div>
                </section>

                <!-- Featured Products Preview -->
                <section class="py-24 px-4 bg-gray-50 dark:bg-[#1a1a1a]">
                    <div class="max-w-7xl mx-auto text-center mb-16">
                        <h3 class="text-brand-orange font-bold uppercase tracking-wider mb-2">Our Capabilities</h3>
                        <h2 class="text-3xl md:text-4xl font-serif font-bold text-brand-dark dark:text-white">Featured Collections</h2>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-7xl mx-auto">
                        <!-- Card 1 -->
                        <div class="group relative overflow-hidden rounded-sm shadow-lg cursor-pointer" onclick="router.navigate('collections')">
                            <div class="h-80 overflow-hidden">
                                <img src="Denim.jpg"=80&w=1000&auto=format&fit=crop" class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700" alt="Denim">
                            </div>
                            <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent flex flex-col justify-end p-6">
                                <h4 class="text-white text-xl font-bold mb-1">Premium Denim</h4>
                                <p class="text-gray-300 text-sm transform translate-y-4 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300">Sustainable wash, high durability.</p>
                            </div>
                        </div>
                        
                        <!-- Card 2 -->
                        <div class="group relative overflow-hidden rounded-sm shadow-lg cursor-pointer" onclick="router.navigate('collections')">
                            <div class="h-80 overflow-hidden">
                                <img src="Knit.jpg"=80&w=1000&auto=format&fit=crop" class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700" alt="Knits">
                            </div>
                            <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent flex flex-col justify-end p-6">
                                <h4 class="text-white text-xl font-bold mb-1">Luxury Knits</h4>
                                <p class="text-gray-300 text-sm transform translate-y-4 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300">Soft touch, organic cotton blends.</p>
                            </div>
                        </div>

                        <!-- Card 3 -->
                        <div class="group relative overflow-hidden rounded-sm shadow-lg cursor-pointer" onclick="router.navigate('collections')">
                            <div class="h-80 overflow-hidden">
                                <img src="Technical.jpg"=80&w=1000&auto=format&fit=crop" class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700" alt="Technical">
                            </div>
                            <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent flex flex-col justify-end p-6">
                                <h4 class="text-white text-xl font-bold mb-1">Technical Textiles</h4>
                                <p class="text-gray-300 text-sm transform translate-y-4 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300">Water-resistant, fire-retardant.</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- CTA Section -->
                <section class="py-20 bg-brand-orange text-white text-center px-4">
                    <div class="max-w-4xl mx-auto">
                        <h2 class="text-3xl md:text-5xl font-serif font-bold mb-6">Ready to Innovate Your Supply Chain?</h2>
                        <p class="text-lg mb-8 text-white/90">Connect with Oriental Tex Int for world-class manufacturing solutions tailored to your brand.</p>
                        <button onclick="router.navigate('contact')" class="bg-white text-brand-orange px-10 py-4 rounded-sm font-bold hover:bg-brand-dark hover:text-white transition-colors shadow-lg">
                            Get a Quote Today
                        </button>
                    </div>
                </section>
            `,
            about: `
                <section class="bg-brand-darkGrey py-20 px-4 text-center">
                    <h1 class="text-4xl md:text-6xl font-serif font-bold text-white mb-4 animate-fade-in-up">About Us</h1>
                    <p class="text-brand-orange uppercase tracking-widest text-sm animate-fade-in-up" style="animation-delay: 0.2s;">Legacy of Quality</p>
                </section>

                <div class="max-w-4xl mx-auto px-4 py-20">
                    <div class="prose dark:prose-invert lg:prose-xl mx-auto">
                        <h2 class="text-3xl font-bold text-brand-dark dark:text-white mb-6">Our Journey</h2>
                        <p class="text-gray-600 dark:text-gray-300 mb-8 leading-relaxed">
                            Established in 1995, <strong>Oriental Tex Int</strong> began as a small weaving unit and has grown into a vertically integrated textile giant. Our mission has always been simple: to provide the highest quality textiles while maintaining the utmost respect for our environment and our workforce.
                        </p>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 my-12">
                            <div class="bg-gray-50 dark:bg-brand-darkGrey p-8 rounded border-l-4 border-brand-orange">
                                <h3 class="text-xl font-bold mb-3 dark:text-white">Our Mission</h3>
                                <p class="text-sm text-gray-600 dark:text-gray-400">To lead the textile industry through innovation, sustainability, and ethical business practices, ensuring value for clients and community alike.</p>
                            </div>
                            <div class="bg-gray-50 dark:bg-brand-darkGrey p-8 rounded border-l-4 border-brand-lightOrange">
                                <h3 class="text-xl font-bold mb-3 dark:text-white">Our Vision</h3>
                                <p class="text-sm text-gray-600 dark:text-gray-400">To be the world's most trusted partner in textile manufacturing, setting benchmarks in quality and environmental stewardship.</p>
                            </div>
                        </div>

                        <h2 class="text-3xl font-bold text-brand-dark dark:text-white mb-6">Leadership</h2>
                        <p class="text-gray-600 dark:text-gray-300 mb-8">
                            Our board comprises industry veterans with over 40 years of combined experience in fashion, engineering, and international trade.
                        </p>
                    </div>
                </div>
            `,
            factory: `
                <section class="bg-brand-darkGrey py-20 px-4 text-center">
                    <h1 class="text-4xl md:text-6xl font-serif font-bold text-white mb-4 animate-fade-in-up">Our Factory</h1>
                    <p class="text-brand-orange uppercase tracking-widest text-sm animate-fade-in-up" style="animation-delay: 0.2s;">Where Innovation Meets Production</p>
                </section>

                <section class="py-16 px-4 bg-white dark:bg-brand-dark">
                    <div class="max-w-7xl mx-auto">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center mb-20">
                            <div class="order-2 md:order-1">
                                <h2 class="text-3xl font-serif font-bold mb-4 dark:text-white">State-of-the-Art Machinery</h2>
                                <p class="text-gray-600 dark:text-gray-300 mb-6">
                                    Our facility is equipped with the latest German and Japanese automated looms and knitting machines. We utilize AI-driven quality control systems to ensure defect-free fabric production at high speeds.
                                </p>
                                <ul class="list-disc pl-5 text-gray-600 dark:text-gray-400 space-y-2">
                                    <li>Automated Cutting & Sewing</li>
                                    <li>Digital Printing Units</li>
                                    <li>Advanced Dyeing Lab</li>
                                </ul>
                            </div>
                            <div class="order-1 md:order-2 img-zoom-container rounded shadow-lg overflow-hidden h-64 md:h-96">
                                <img src=Machineries.jpg?q=80&w=1000&auto=format&fit=crop" class="w-full h-full object-cover" alt="Machinery">
                            </div>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
                            <div class="img-zoom-container rounded shadow-lg overflow-hidden h-64 md:h-96">
                                <img src=Sustainability.jpg?q=80&w=1000&auto=format&fit=crop" class="w-full h-full object-cover" alt="Sustainability">
                            </div>
                            <div>
                                <h2 class="text-3xl font-serif font-bold mb-4 dark:text-white">Sustainable Processing</h2>
                                <p class="text-gray-600 dark:text-gray-300 mb-6">
                                    Oriental Tex Int is committed to Green Manufacturing. Our ETP (Effluent Treatment Plant) recycles 85% of water used in dyeing, and our roof solar panels generate 40% of our energy needs.
                                </p>
                                <div class="flex gap-4">
                                    <span class="px-4 py-2 bg-green-100 text-green-800 rounded text-xs font-bold">LEED Certified</span>
                                    <span class="px-4 py-2 bg-blue-100 text-blue-800 rounded text-xs font-bold">Oeko-Tex Standard</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            `,
            collections: `
                <section class="bg-brand-darkGrey py-20 px-4 text-center">
                    <h1 class="text-4xl md:text-6xl font-serif font-bold text-white mb-4 animate-fade-in-up">New Collections</h1>
                    <p class="text-brand-orange uppercase tracking-widest text-sm animate-fade-in-up" style="animation-delay: 0.2s;">Spring / Summer 2026</p>
                </section>

                <section class="py-16 px-4 dark:bg-brand-dark">
                    <div class="max-w-7xl mx-auto">
                        <!-- Filters -->
                        <div class="flex flex-wrap justify-center gap-4 mb-12">
                            <button onclick="filterSelection('all')" class="filter-btn px-6 py-2 bg-brand-orange text-white rounded-full text-sm font-medium transition-colors">All</button>
                            <button onclick="filterSelection('sweater')" class="filter-btn px-6 py-2 bg-gray-200 dark:bg-brand-darkGrey dark:text-gray-300 hover:bg-gray-300 rounded-full text-sm font-medium transition-colors">Sweater</button>
                            <button onclick="filterSelection('knitwear')" class="filter-btn px-6 py-2 bg-gray-200 dark:bg-brand-darkGrey dark:text-gray-300 hover:bg-gray-300 rounded-full text-sm font-medium transition-colors">Knitwear</button>
                            <button onclick="filterSelection('woven')" class="filter-btn px-6 py-2 bg-gray-200 dark:bg-brand-darkGrey dark:text-gray-300 hover:bg-gray-300 rounded-full text-sm font-medium transition-colors">Woven</button>
                        </div>

                        <!-- Gallery Grid Container -->
                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8" id="product-grid">
                            <!-- Products injected by JS -->
                        </div>
                    </div>
                </section>
            `,
            clients: `
                <section class="bg-brand-darkGrey py-20 px-4 text-center">
                    <h1 class="text-4xl md:text-6xl font-serif font-bold text-white mb-4 animate-fade-in-up">Valued Clients</h1>
                    <p class="text-brand-orange uppercase tracking-widest text-sm animate-fade-in-up" style="animation-delay: 0.2s;">Trusted by Global Brands</p>
                </section>

                <section class="py-20 px-4 dark:bg-brand-dark">
                    <div class="max-w-7xl mx-auto text-center">
                        <p class="text-lg text-gray-600 dark:text-gray-300 max-w-3xl mx-auto mb-16">
                            We pride ourselves on long-term partnerships. Our fabrics are used by leading retailers and fashion houses across Europe, North America, and Asia.
                        </p>
                        
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
                            <!-- Logos work as visual indicators -->
                            <div class="h-32 bg-gray-100 dark:bg-brand-darkGrey flex items-center justify-center rounded hover:shadow-lg transition-all border border-transparent hover:border-brand-orange hover:-translate-y-1 transform cursor-default">
                                <span class="text-xl font-bold text-gray-400 hover:text-brand-orange transition-colors">ZARA</span>
                            </div>
                            <div class="h-32 bg-gray-100 dark:bg-brand-darkGrey flex items-center justify-center rounded hover:shadow-lg transition-all border border-transparent hover:border-brand-orange hover:-translate-y-1 transform cursor-default">
                                <span class="text-xl font-bold text-gray-400 hover:text-brand-orange transition-colors">NEW LOOK</span>
                            </div>
                            <div class="h-32 bg-gray-100 dark:bg-brand-darkGrey flex items-center justify-center rounded hover:shadow-lg transition-all border border-transparent hover:border-brand-orange hover:-translate-y-1 transform cursor-default">
                                <span class="text-xl font-bold text-gray-400 hover:text-brand-orange transition-colors">PRIMARK</span>
                            </div>
                            <div class="h-32 bg-gray-100 dark:bg-brand-darkGrey flex items-center justify-center rounded hover:shadow-lg transition-all border border-transparent hover:border-brand-orange hover:-translate-y-1 transform cursor-default">
                                <span class="text-xl font-bold text-gray-400 hover:text-brand-orange transition-colors">BHS</span>
                            </div>
                            <div class="h-32 bg-gray-100 dark:bg-brand-darkGrey flex items-center justify-center rounded hover:shadow-lg transition-all border border-transparent hover:border-brand-orange hover:-translate-y-1 transform cursor-default">
                                <span class="text-xl font-bold text-gray-400 hover:text-brand-orange transition-colors">AWG</span>
                            </div>
                            <div class="h-32 bg-gray-100 dark:bg-brand-darkGrey flex items-center justify-center rounded hover:shadow-lg transition-all border border-transparent hover:border-brand-orange hover:-translate-y-1 transform cursor-default">
                                <span class="text-xl font-bold text-gray-400 hover:text-brand-orange transition-colors">NEXT</span>
                            </div>
                            <div class="h-32 bg-gray-100 dark:bg-brand-darkGrey flex items-center justify-center rounded hover:shadow-lg transition-all border border-transparent hover:border-brand-orange hover:-translate-y-1 transform cursor-default">
                                <span class="text-xl font-bold text-gray-400 hover:text-brand-orange transition-colors">TANGO</span>
                            </div>
                            <div class="h-32 bg-gray-100 dark:bg-brand-darkGrey flex items-center justify-center rounded hover:shadow-lg transition-all border border-transparent hover:border-brand-orange hover:-translate-y-1 transform cursor-default">
                                <span class="text-xl font-bold text-gray-400 hover:text-brand-orange transition-colors">BURLINGTON</span>
                            </div>
                        </div>
                        
                        <div class="mt-16 p-8 bg-brand-orange/10 rounded-lg inline-block">
                            <h3 class="text-2xl font-bold text-brand-orange mb-2">Want to join them?</h3>
                             <button onclick="router.navigate('contact')" class="mt-4 px-8 py-3 bg-brand-orange text-white font-bold rounded hover:bg-brand-darkOrange transition-colors">Become a Partner</button>
                        </div>
                    </div>
                </section>
            `,
            contact: `
                <section class="bg-brand-darkGrey py-20 px-4 text-center">
                    <h1 class="text-4xl md:text-6xl font-serif font-bold text-white mb-4 animate-fade-in-up">Contact Us</h1>
                    <p class="text-brand-orange uppercase tracking-widest text-sm animate-fade-in-up" style="animation-delay: 0.2s;">Get in Touch</p>
                </section>

                <section class="py-20 px-4 dark:bg-brand-dark">
                    <div class="max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-16">
                        <!-- Contact Info -->
                        <div class="space-y-8 animate-fade-in-up" style="animation-delay: 0.3s;">
                            <!-- Bangladesh Office -->
                            <div class="bg-gray-50 dark:bg-[#1a1a1a] p-8 rounded-lg border-l-4 border-brand-orange shadow-md hover:shadow-xl transition-all duration-300">
                                <h2 class="text-2xl font-serif font-bold mb-6 text-brand-dark dark:text-white flex items-center">
                                    <span class="mr-3 text-2xl">ðŸ‡§ðŸ‡©</span> Bangladesh Office
                                </h2>
                                <div class="space-y-4 text-sm md:text-base mb-6">
                                    <div class="flex items-start">
                                        <i data-lucide="map-pin" class="w-5 h-5 text-brand-orange mr-3 mt-1 flex-shrink-0"></i>
                                        <p class="text-gray-600 dark:text-gray-300">587/589 Link Road, Mirpur D.O.H.S, Mirpur-12, Dhaka-1216, Bangladesh</p>
                                    </div>
                                    <div class="flex items-start">
                                        <i data-lucide="user" class="w-5 h-5 text-brand-orange mr-3 mt-1 flex-shrink-0"></i>
                                        <div>
                                            <p class="font-bold text-brand-dark dark:text-white">Mohammed Ishaque</p>
                                            <p class="text-gray-500 text-xs uppercase tracking-wide font-semibold">Managing Director</p>
                                        </div>
                                    </div>
                                    <div class="flex items-start">
                                        <i data-lucide="phone" class="w-5 h-5 text-brand-orange mr-3 mt-1 flex-shrink-0"></i>
                                        <div class="text-gray-600 dark:text-gray-300 space-y-1">
                                            <p>Tel: +880-2-8081010</p>
                                            <p>Hot Line: +880 1972 526242</p>
                                            <p>Cell: +880 1819 247661</p>
                                        </div>
                                    </div>
                                    <div class="flex items-start">
                                        <i data-lucide="mail" class="w-5 h-5 text-brand-orange mr-3 mt-1 flex-shrink-0"></i>
                                        <a href="mailto:Ishaque@orientaltexbd.com" class="text-gray-600 dark:text-gray-300 hover:text-brand-orange transition-colors break-all">Ishaque@orientaltexbd.com</a>
                                    </div>
                                    <div class="flex items-start">
                                        <i data-lucide="globe" class="w-5 h-5 text-brand-orange mr-3 mt-1 flex-shrink-0"></i>
                                        <a href="http://www.orientaltexbd.com" target="_blank" class="text-gray-600 dark:text-gray-300 hover:text-brand-orange transition-colors break-all">www.orientaltexbd.com</a>
                                    </div>
                                </div>
                                <!-- Map for Bangladesh -->
                                <div class="w-full h-48 rounded overflow-hidden shadow-inner border border-gray-200 dark:border-gray-700">
                                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3649.4662021110803!2d90.3702909!3d23.837573600000002!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3755c14bd42be0cd%3A0x4fdd98606cab06b1!2sRd+Number+9%2C+Dhaka!5e0!3m2!1sen!2sbd!4v1439569135853" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                                </div>
                            </div>

                            <!-- USA Office -->
                            <div class="bg-gray-50 dark:bg-[#1a1a1a] p-8 rounded-lg border-l-4 border-blue-600 shadow-md hover:shadow-xl transition-all duration-300">
                                <h2 class="text-2xl font-serif font-bold mb-6 text-brand-dark dark:text-white flex items-center">
                                    <span class="mr-3 text-2xl">ðŸ‡ºðŸ‡¸</span> USA Office
                                </h2>
                                <div class="space-y-4 text-sm md:text-base mb-6">
                                    <div class="flex items-start">
                                        <i data-lucide="map-pin" class="w-5 h-5 text-blue-600 mr-3 mt-1 flex-shrink-0"></i>
                                        <p class="text-gray-600 dark:text-gray-300">270 West 38 Street, Flr: 12A NY 10018 New York</p>
                                    </div>
                                    <div class="flex items-start">
                                        <i data-lucide="user" class="w-5 h-5 text-blue-600 mr-3 mt-1 flex-shrink-0"></i>
                                        <div>
                                            <p class="font-bold text-brand-dark dark:text-white">Md. Golam Mostafa Jewel</p>
                                            <p class="text-gray-500 text-xs uppercase tracking-wide font-semibold">Director Marketing & sourcing</p>
                                        </div>
                                    </div>
                                    <div class="flex items-start">
                                        <i data-lucide="phone" class="w-5 h-5 text-blue-600 mr-3 mt-1 flex-shrink-0"></i>
                                        <div class="text-gray-600 dark:text-gray-300 space-y-1">
                                            <p>Cell: +1 929 500 4554</p>
                                            <p>Tel: +1 212 354 1313</p>
                                        </div>
                                    </div>
                                    <div class="flex items-start">
                                        <i data-lucide="mail" class="w-5 h-5 text-blue-600 mr-3 mt-1 flex-shrink-0"></i>
                                        <a href="mailto:jewel@orientaltexbd.com" class="text-gray-600 dark:text-gray-300 hover:text-brand-orange transition-colors break-all">jewel@orientaltexbd.com</a>
                                    </div>
                                    <div class="flex items-start">
                                        <i data-lucide="globe" class="w-5 h-5 text-blue-600 mr-3 mt-1 flex-shrink-0"></i>
                                        <a href="http://www.orientaltexbd.com" target="_blank" class="text-gray-600 dark:text-gray-300 hover:text-brand-orange transition-colors break-all">www.orientaltexbd.com</a>
                                    </div>
                                </div>
                                <!-- Map for USA -->
                                <div class="w-full h-48 rounded overflow-hidden shadow-inner border border-gray-200 dark:border-gray-700">
                                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1511.1729685019454!2d-73.9915494!3d40.75441550000003!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89c259acfa597bd7%3A0x12d172c42b40c89d!2s270+W+38th+St%2C+New+York%2C+NY+10018%2C+USA!5e0!3m2!1sbn!2sbd!4v1439570389086" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                                </div>
                            </div>
                        </div>

                        <!-- Form -->
                        <div class="bg-white dark:bg-[#1a1a1a] p-8 rounded shadow-lg border-t-4 border-brand-orange relative overflow-hidden h-fit animate-fade-in-up" style="animation-delay: 0.5s;">
                            <div id="form-success-msg" class="absolute inset-0 bg-white dark:bg-[#1a1a1a] flex flex-col items-center justify-center p-8 text-center transition-all duration-300 opacity-0 pointer-events-none transform translate-y-4">
                                <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4">
                                    <i data-lucide="check" class="w-8 h-8 text-green-600"></i>
                                </div>
                                <h3 class="text-2xl font-bold text-brand-dark dark:text-white mb-2">Message Sent!</h3>
                                <p class="text-gray-600 dark:text-gray-400 mb-6">Thank you for contacting Oriental Tex Int. Our team will get back to you within 24 hours.</p>
                                <button onclick="resetContactForm()" class="px-6 py-2 border border-brand-orange text-brand-orange rounded hover:bg-brand-orange hover:text-white transition-colors">Send Another Message</button>
                            </div>

                            <div id="contact-form-container" class="transition-all duration-300">
                                <h2 class="text-2xl font-bold mb-6 dark:text-white">Send us a Message</h2>
                                <form onsubmit="handleContactSubmit(event)">
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Name</label>
                                            <input required type="text" class="w-full px-4 py-3 rounded bg-gray-50 dark:bg-brand-darkGrey border border-gray-200 dark:border-gray-600 focus:border-brand-orange focus:ring-0 dark:text-white outline-none transition-colors" placeholder="John Doe">
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Email</label>
                                            <input required type="email" class="w-full px-4 py-3 rounded bg-gray-50 dark:bg-brand-darkGrey border border-gray-200 dark:border-gray-600 focus:border-brand-orange focus:ring-0 dark:text-white outline-none transition-colors" placeholder="john@example.com">
                                        </div>
                                    </div>
                                    <div class="mb-6">
                                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Subject</label>
                                        <input required type="text" class="w-full px-4 py-3 rounded bg-gray-50 dark:bg-brand-darkGrey border border-gray-200 dark:border-gray-600 focus:border-brand-orange focus:ring-0 dark:text-white outline-none transition-colors" placeholder="Inquiry about...">
                                    </div>
                                    <div class="mb-6">
                                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Message</label>
                                        <textarea required rows="4" class="w-full px-4 py-3 rounded bg-gray-50 dark:bg-brand-darkGrey border border-gray-200 dark:border-gray-600 focus:border-brand-orange focus:ring-0 dark:text-white outline-none transition-colors" placeholder="Your message here..."></textarea>
                                    </div>
                                    <button type="submit" id="submit-btn" class="w-full bg-brand-orange text-white font-bold py-3 rounded hover:bg-brand-darkOrange transition-colors flex items-center justify-center">
                                        <span>Send Message</span>
                                        <i data-lucide="send" class="w-4 h-4 ml-2"></i>
                                    </button>
                                </form>
                            </div>
                        </div>
                    </div>
                </section>
            `
        };

        const router = {
            navigate: function(page) {
                // Show Loader
                loader.style.opacity = '1';
                loader.style.zIndex = '50';
                
                // Simulate loading time for smooth feel
                setTimeout(() => {
                    // Update Content
                    contentDiv.innerHTML = templates[page];
                    
                    // Render specific components
                    if (page === 'collections') {
                        renderProducts('all');
                    }
                    
                    // Scroll to top
                    window.scrollTo(0, 0);
                    
                    // Re-initialize icons for new content
                    lucide.createIcons();
                    
                    // Setup intersection observers for new content animations
                    setupObservers();
                    
                    // Hide Loader
                    loader.style.opacity = '0';
                    setTimeout(() => {
                        loader.style.zIndex = '-1';
                    }, 500);

                    // Update Active Nav State
                    document.querySelectorAll('.nav-link').forEach(link => {
                        link.classList.remove('text-brand-orange', 'font-bold');
                        if (link.getAttribute('onclick') && link.getAttribute('onclick').includes(page)) {
                            link.classList.add('text-brand-orange', 'font-bold');
                        }
                    });

                }, 500);
            }
        };

        // --- Interactive Functions ---

        // Product Rendering
        function renderProducts(filter) {
            const grid = document.getElementById('product-grid');
            if(!grid) return;
            
            grid.innerHTML = ''; // Clear
            
            // Filter Data
            let filtered;
            if (filter === 'all') {
                // Create a copy to shuffle so we don't mutate the original order
                filtered = [...productsData];
                
                // Fisher-Yates Shuffle to randomize the order
                for (let i = filtered.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [filtered[i], filtered[j]] = [filtered[j], filtered[i]];
                }
            } else {
                // Show specific category in default order
                filtered = productsData.filter(p => p.category === filter);
            }
            
            // Generate HTML
            filtered.forEach(p => {
                const productHtml = `
                    <div class="group bg-white dark:bg-[#1a1a1a] rounded shadow-md overflow-hidden hover:shadow-xl transition-shadow animate-fade-in-up">
                        <div class="h-64 overflow-hidden relative">
                            <img src="${p.image}" class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-500" alt="${p.title}">
                            ${p.isNew ? '<div class="absolute top-2 right-2 bg-brand-orange text-white text-xs px-2 py-1 rounded">New</div>' : ''}
                        </div>
                        <div class="p-6">
                            <h3 class="text-lg font-bold dark:text-white mb-2">${p.title}</h3>
                            <p class="text-sm text-gray-500 mb-4">Code: ${p.code}</p>
                            <button onclick="openProductModal('${p.title}', '${p.code}', '${p.image}')" class="text-brand-orange text-sm font-bold uppercase tracking-wider hover:text-brand-darkOrange">View Details</button>
                        </div>
                    </div>
                `;
                grid.innerHTML += productHtml;
            });
        }

        // Product Modal Logic
        function openProductModal(title, code, imgSrc) {
            const modal = document.getElementById('product-modal');
            const mImg = document.getElementById('modal-img');
            const mTitle = document.getElementById('modal-title');
            const mCode = document.getElementById('modal-code');

            mImg.src = imgSrc;
            mTitle.textContent = title;
            mCode.textContent = code;
            
            modal.classList.remove('hidden-modal');
        }

        function closeProductModal() {
            document.getElementById('product-modal').classList.add('hidden-modal');
        }

        // Close modal when clicking outside
        document.getElementById('product-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeProductModal();
            }
        });

        // Contact Form Logic
        function handleContactSubmit(e) {
            e.preventDefault();
            const btn = document.getElementById('submit-btn');
            const originalText = btn.innerHTML;
            
            // Loading state
            btn.innerHTML = '<i data-lucide="loader" class="animate-spin w-5 h-5"></i>';
            lucide.createIcons();
            btn.disabled = true;
            btn.classList.add('opacity-70', 'cursor-not-allowed');

            // Simulate API call
            setTimeout(() => {
                const formContainer = document.getElementById('contact-form-container');
                const successMsg = document.getElementById('form-success-msg');

                formContainer.style.opacity = '0';
                formContainer.style.pointerEvents = 'none';

                successMsg.classList.remove('opacity-0', 'pointer-events-none', 'translate-y-4');
                
                // Reset button for next time (hidden)
                btn.innerHTML = originalText;
                btn.disabled = false;
                btn.classList.remove('opacity-70', 'cursor-not-allowed');
            }, 1500);
        }

        function resetContactForm() {
            const formContainer = document.getElementById('contact-form-container');
            const successMsg = document.getElementById('form-success-msg');
            const form = formContainer.querySelector('form');

            form.reset();

            successMsg.classList.add('opacity-0', 'pointer-events-none', 'translate-y-4');
            
            formContainer.style.opacity = '1';
            formContainer.style.pointerEvents = 'auto';
        }
        
        // Filter Selection for Collections
        function filterSelection(category) {
            // Update active state of buttons
            const buttons = document.getElementsByClassName('filter-btn');
            for(let btn of buttons) {
                 btn.classList.remove('bg-brand-orange', 'text-white');
                 btn.classList.add('bg-gray-200', 'dark:bg-brand-darkGrey', 'dark:text-gray-300');
                 if((category === 'all' && btn.innerText === 'All') || 
                    (category === 'sweater' && btn.innerText === 'Sweater') ||
                    (category === 'knitwear' && btn.innerText === 'Knitwear') ||
                    (category === 'woven' && btn.innerText === 'Woven')) {
                     btn.classList.remove('bg-gray-200', 'dark:bg-brand-darkGrey', 'dark:text-gray-300');
                     btn.classList.add('bg-brand-orange', 'text-white');
                 }
            }
            
            // Re-render grid
            renderProducts(category);
        }

        // --- Theme Toggle ---
        const themeToggle = document.getElementById('theme-toggle');
        const mobileThemeToggle = document.getElementById('mobile-theme-toggle');
        const htmlElement = document.documentElement;

        function toggleTheme() {
            if (htmlElement.classList.contains('dark')) {
                htmlElement.classList.remove('dark');
                localStorage.setItem('theme', 'light');
            } else {
                htmlElement.classList.add('dark');
                localStorage.setItem('theme', 'dark');
            }
        }

        themeToggle.addEventListener('click', toggleTheme);
        mobileThemeToggle.addEventListener('click', toggleTheme);

        // Check LocalStorage
        if (localStorage.getItem('theme') === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            htmlElement.classList.add('dark');
        } else {
            htmlElement.classList.remove('dark');
        }

        // --- Mobile Menu ---
        const btn = document.getElementById('mobile-menu-btn');
        const menu = document.getElementById('mobile-menu');

        btn.addEventListener('click', () => {
            menu.classList.toggle('hidden');
        });

        function closeMobileMenu() {
            menu.classList.add('hidden');
        }

        // --- Animation Observer ---
        function setupObservers() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('animate-fade-in-up');
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.1 });

            document.querySelectorAll('.observe-fade').forEach((el) => {
                el.classList.add('opacity-0'); // Initial state
                observer.observe(el);
            });
        }

        // --- Navigation Scroll Effect ---
        window.addEventListener('scroll', () => {
            const nav = document.getElementById('navbar');
            if (window.scrollY > 50) {
                nav.classList.add('bg-white/95', 'dark:bg-brand-dark/95', 'shadow-md', 'backdrop-blur-sm');
                nav.classList.remove('border-transparent');
            } else {
                nav.classList.remove('bg-white/95', 'dark:bg-brand-dark/95', 'shadow-md', 'backdrop-blur-sm');
                nav.classList.add('border-transparent');
            }
        });

        // --- Init ---
        window.onload = function() {
            // Load Icons
            lucide.createIcons();
            
            // Initial Route
            router.navigate('home');
            
            // Remove initial loader after short delay
            setTimeout(() => {
               loader.style.opacity = '0'; 
               setTimeout(() => loader.style.zIndex = '-1', 500);
            }, 800);
        };

    </script>
</body>
</html>

